!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).Notifications={})}(this,(function(t){"use strict";function n(){}const e=t=>t;function o(t,n){for(const e in n)t[e]=n[e];return t}function i(t){return t()}function r(){return Object.create(null)}function s(t){t.forEach(i)}function c(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(t,n,e){if(t){const o=f(t,n,e);return t[0](o)}}function f(t,n,e){return t[1]?o({},o(n.$$scope.ctx,t[1](e?e(n):{}))):n.$$scope.ctx}function a(t,n,e,i){return t[1]?o({},o(n.$$scope.changed||{},t[1](i?i(e):{}))):n.$$scope.changed||{}}const d="undefined"!=typeof window;let $=d?()=>window.performance.now():()=>Date.now(),p=d?t=>requestAnimationFrame(t):n;const h=new Set;let m,g=!1;function y(){h.forEach(t=>{t[0]($())||(h.delete(t),t[1]())}),(g=h.size>0)&&p(y)}function v(t){let n;return g||(g=!0,p(y)),{promise:new Promise(e=>{h.add(n=[t,e])}),abort(){h.delete(n)}}}function w(t,n){t.appendChild(n)}function b(t,n,e){t.insertBefore(n,e||null)}function x(t){t.parentNode.removeChild(t)}function _(t){return document.createElement(t)}function S(t){return document.createTextNode(t)}function N(){return S(" ")}function k(){return S("")}function C(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}let E,j=0,A={};function O(t,n,e,o,i,r,s,c=0){const l=16.666/o;let u="{\n";for(let t=0;t<=1;t+=l){const o=n+(e-n)*r(t);u+=100*t+`%{${s(o,1-o)}}\n`}const f=u+`100% {${s(e,1-e)}}\n}`,a=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(f)}_${c}`;if(!A[a]){if(!m){const t=_("style");document.head.appendChild(t),m=t.sheet}A[a]=!0,m.insertRule(`@keyframes ${a} ${f}`,m.cssRules.length)}const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${a} ${o}ms linear ${i}ms 1 both`,j+=1,a}function M(t,n){t.style.animation=(t.style.animation||"").split(", ").filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")).join(", "),n&&!--j&&p(()=>{if(j)return;let t=m.cssRules.length;for(;t--;)m.deleteRule(t);A={}})}function P(t){E=t}function R(){if(!E)throw new Error("Function called outside component initialization");return E}const T=[],q=[],z=[],B=[],D=Promise.resolve();let F,H=!1;function L(t){z.push(t)}function G(){const t=new Set;do{for(;T.length;){const t=T.shift();P(t),I(t.$$)}for(;q.length;)q.pop()();for(let n=0;n<z.length;n+=1){const e=z[n];t.has(e)||(e(),t.add(e))}z.length=0}while(T.length);for(;B.length;)B.pop()();H=!1}function I(t){t.fragment&&(t.update(t.dirty),s(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(L))}function J(){return F||(F=Promise.resolve()).then(()=>{F=null}),F}function K(t,n,e){t.dispatchEvent(function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(`${n?"intro":"outro"}${e}`))}const Q=new Set;let U;function V(){U={r:0,c:[],p:U}}function W(){U.r||s(U.c),U=U.p}function X(t,n){t&&t.i&&(Q.delete(t),t.i(n))}function Y(t,n,e,o){if(t&&t.o){if(Q.has(t))return;Q.add(t),U.c.push(()=>{Q.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}const Z={duration:0};function tt(t,n){Y(t,1,1,()=>{n.delete(t.key)})}function nt(t,n,e){const{fragment:o,on_mount:r,on_destroy:l,after_update:u}=t.$$;o.m(n,e),L(()=>{const n=r.map(i).filter(c);l?l.push(...n):s(n),t.$$.on_mount=[]}),u.forEach(L)}function et(t,n){t.$$.fragment&&(s(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function ot(t,n){t.$$.dirty||(T.push(t),H||(H=!0,D.then(G)),t.$$.dirty=r()),t.$$.dirty[n]=!0}function it(t,e,o,i,c,l){const u=E;P(t);const f=e.props||{},a=t.$$={fragment:null,ctx:null,props:l,update:n,not_equal:c,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:null};let d=!1;a.ctx=o?o(t,f,(n,e,o=e)=>(a.ctx&&c(a.ctx[n],a.ctx[n]=o)&&(a.bound[n]&&a.bound[n](o),d&&ot(t,n)),e)):f,a.update(),d=!0,s(a.before_update),a.fragment=i(a.ctx),e.target&&(e.hydrate?a.fragment.l(function(t){return Array.from(t.childNodes)}(e.target)):a.fragment.c(),e.intro&&X(t.$$.fragment),nt(t,e.target,e.anchor),G()),P(u)}class rt{$destroy(){et(this,1),this.$destroy=n}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function st(t,{delay:n=0,duration:e=400}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:e,css:t=>`opacity: ${t*o}`}}const ct={subscribe:null,addNotification:null,removeNotification:null,clearNotifications:null},lt=()=>(function(t){return R().$$.context.get(t)})(ct);function ut(t){var o,i,r,l,d,p,h,m,g,y;const k=t.$$slots.default,E=u(k,t,null);return{c(){var n,e,s,c;o=_("div"),i=_("div"),E||(r=S(t.text)),E&&E.c(),l=N(),d=_("button"),p=S("Ã—"),C(i,"class",t.getClass("content")+" svelte-1nm9ptj"),C(d,"class",t.getClass("button")+" svelte-1nm9ptj"),C(d,"aria-label","delete notification"),C(o,"class",t.getClass()+" svelte-1nm9ptj"),C(o,"role","status"),C(o,"aria-live","polite"),n=d,e="click",s=t.removeNotificationHandler,n.addEventListener(e,s,c),y=()=>n.removeEventListener(e,s,c)},l(t){E&&E.l(div0_nodes)},m(t,n){b(t,o,n),w(o,i),E?E.m(i,null):w(i,r),w(o,l),w(o,d),w(d,p),g=!0},p(t,n){E&&E.p&&t.$$scope&&E.p(a(k,n,t,null),f(k,n,null))},i(t){g||(X(E,t),L(()=>{m&&m.end(1),h||(h=function(t,o,i){let r,s,l=o(t,i),u=!1,f=0;function a(){r&&M(t,r)}function d(){const{delay:o=0,duration:i=300,easing:c=e,tick:d=n,css:p}=l||Z;p&&(r=O(t,0,1,i,o,c,p,f++)),d(0,1);const h=$()+o,m=h+i;s&&s.abort(),u=!0,L(()=>K(t,!0,"start")),s=v(n=>{if(u){if(n>=m)return d(1,0),K(t,!0,"end"),a(),u=!1;if(n>=h){const t=c((n-h)/i);d(t,1-t)}}return u})}let p=!1;return{start(){p||(M(t),c(l)?(l=l(),J().then(d)):d())},invalidate(){p=!1},end(){u&&(a(),u=!1)}}}(o,st,{})),h.start()}),g=!0)},o(t){Y(E,t),h&&h.invalidate(),m=function(t,o,i){let r,l=o(t,i),u=!0;const f=U;function a(){const{delay:o=0,duration:i=300,easing:c=e,tick:a=n,css:d}=l||Z;d&&(r=O(t,1,0,i,o,c,d));const p=$()+o,h=p+i;L(()=>K(t,!1,"start")),v(n=>{if(u){if(n>=h)return a(0,1),K(t,!1,"end"),--f.r||s(f.c),!1;if(n>=p){const t=c((n-p)/i);a(1-t,t)}}return u})}return f.r+=1,c(l)?J().then(()=>{l=l(),a()}):a(),{end(n){n&&l.tick&&l.tick(1,0),u&&(r&&M(t,r),u=!1)}}}(o,st,{}),g=!1},d(t){t&&x(o),E&&E.d(t),t&&m&&m.end(),y()}}}function ft(t,n,e){let{notification:o={},withoutStyles:i=!1}=n;const{removeNotification:r}=lt(),{id:s,text:c,removeAfter:l}=o,u=()=>r(s);let f=null;var a;l&&(f=setTimeout(u,l)),a=()=>{l&&f&&clearTimeout(f)},R().$$.on_destroy.push(a);let{$$slots:d={},$$scope:$}=n;return t.$set=t=>{"notification"in t&&e("notification",o=t.notification),"withoutStyles"in t&&e("withoutStyles",i=t.withoutStyles),"$$scope"in t&&e("$$scope",$=t.$$scope)},{notification:o,withoutStyles:i,text:c,getClass:t=>{const n=t?`-${t}`:"";return`notification${n}${i?"":` default-notification-style${n}`}`},removeNotificationHandler:u,$$slots:d,$$scope:$}}class at extends rt{constructor(t){super(),it(this,t,ft,ut,l,["notification","withoutStyles"])}}const dt=[];const $t=["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"],pt=(t,n)=>{if(!(t=>!(!t||!t.text)&&("string"==typeof t.text&&!!$t.includes(t.position)))(t))throw new Error("Notification object is not valid");const{id:e=(new Date).getTime(),removeAfter:o=+t.removeAfter,...i}=t;n(t=>[...t,{id:e,removeAfter:o,...i}])};var ht=(()=>{const{subscribe:t,set:e,update:o}=function(t,e=n){let o;const i=[];function r(n){if(l(t,n)&&(t=n,o)){const n=!dt.length;for(let n=0;n<i.length;n+=1){const e=i[n];e[1](),dt.push(e,t)}if(n){for(let t=0;t<dt.length;t+=2)dt[t][0](dt[t+1]);dt.length=0}}}return{set:r,update:function(n){r(n(t))},subscribe:function(s,c=n){const l=[s,c];return i.push(l),1===i.length&&(o=e(r)||n),s(t),()=>{const t=i.indexOf(l);-1!==t&&i.splice(t,1),0===i.length&&(o(),o=null)}}}}([]);return{subscribe:t,addNotification:t=>pt(t,o),removeNotification:t=>((t,n)=>n(n=>n.filter(n=>n.id!==t)))(t,o),clearNotifications:()=>(t=>t([]))(e)}})();function mt(t,n,e){const o=Object.create(t);return o.notification=n[e],o}function gt(t,n,e){const o=Object.create(t);return o.position=n[e],o}function yt(t){var n,e,o,i,r=[wt,vt],s=[];function c(t,n){return n.item?0:1}return n=c(0,t),e=s[n]=r[n](t),{c(){e.c(),o=k()},m(t,e){s[n].m(t,e),b(t,o,e),i=!0},p(t,i){var l=n;(n=c(0,i))===l?s[n].p(t,i):(V(),Y(s[l],1,1,()=>{s[l]=null}),W(),(e=s[n])||(e=s[n]=r[n](i)).c(),X(e,1),e.m(o.parentNode,o))},i(t){i||(X(e),i=!0)},o(t){Y(e),i=!1},d(t){s[n].d(t),t&&x(o)}}}function vt(t){var n,e=new at({props:{notification:t.notification,withoutStyles:t.withoutStyles}});return{c(){e.$$.fragment.c()},m(t,o){nt(e,t,o),n=!0},p(t,n){var o={};t.$store&&(o.notification=n.notification),t.withoutStyles&&(o.withoutStyles=n.withoutStyles),e.$set(o)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function wt(t){var n,e,o=t.item;function i(t){return{props:{notification:t.notification}}}if(o)var r=new o(i(t));return{c(){r&&r.$$.fragment.c(),n=k()},m(t,o){r&&nt(r,t,o),b(t,n,o),e=!0},p(t,e){var s={};if(t.$store&&(s.notification=e.notification),o!==(o=e.item)){if(r){V();const t=r;Y(t.$$.fragment,1,0,()=>{et(t,1)}),W()}o?((r=new o(i(e))).$$.fragment.c(),X(r.$$.fragment,1),nt(r,n.parentNode,n)):r=null}else o&&r.$set(s)},i(t){e||(r&&X(r.$$.fragment,t),e=!0)},o(t){r&&Y(r.$$.fragment,t),e=!1},d(t){t&&x(n),r&&et(r,t)}}}function bt(t,n){var e,o,i,r=n.notification.position===n.position&&yt(n);return{key:t,first:null,c(){e=k(),r&&r.c(),o=k(),this.first=e},m(t,n){b(t,e,n),r&&r.m(t,n),b(t,o,n),i=!0},p(t,n){n.notification.position===n.position?r?(r.p(t,n),X(r,1)):((r=yt(n)).c(),X(r,1),r.m(o.parentNode,o)):r&&(V(),Y(r,1,1,()=>{r=null}),W())},i(t){i||(X(r),i=!0)},o(t){Y(r),i=!1},d(t){t&&x(e),r&&r.d(t),t&&x(o)}}}function xt(t){var n,e,o,i,r=[],s=new Map;let c=t.$store;const l=t=>t.notification.id;for(let n=0;n<c.length;n+=1){let e=mt(t,c,n),o=l(e);s.set(o,r[n]=bt(o,e))}return{c(){n=_("div"),e=_("div");for(let t=0;t<r.length;t+=1)r[t].c();o=N(),C(n,"class",t.getClass(t.position)+" svelte-cogvif")},m(t,s){b(t,n,s),w(n,e);for(let t=0;t<r.length;t+=1)r[t].m(e,null);w(n,o),i=!0},p(t,n){const o=n.$store;V(),r=function(t,n,e,o,i,r,s,c,l,u,f,a){let d=t.length,$=r.length,p=d;const h={};for(;p--;)h[t[p].key]=p;const m=[],g=new Map,y=new Map;for(p=$;p--;){const t=a(i,r,p),c=e(t);let l=s.get(c);l?o&&l.p(n,t):(l=u(c,t)).c(),g.set(c,m[p]=l),c in h&&y.set(c,Math.abs(p-h[c]))}const v=new Set,w=new Set;function b(t){X(t,1),t.m(c,f),s.set(t.key,t),f=t.first,$--}for(;d&&$;){const n=m[$-1],e=t[d-1],o=n.key,i=e.key;n===e?(f=n.first,d--,$--):g.has(i)?!s.has(o)||v.has(o)?b(n):w.has(i)?d--:y.get(o)>y.get(i)?(w.add(o),b(n)):(v.add(i),d--):(l(e,s),d--)}for(;d--;){const n=t[d];g.has(n.key)||l(n,s)}for(;$;)b(m[$-1]);return m}(r,t,l,1,n,o,s,e,tt,bt,null,mt),W()},i(t){if(!i){for(let t=0;t<c.length;t+=1)X(r[t]);i=!0}},o(t){for(let t=0;t<r.length;t+=1)Y(r[t]);i=!1},d(t){t&&x(n);for(let t=0;t<r.length;t+=1)r[t].d()}}}function _t(t){var n,e,o;const i=t.$$slots.default,r=u(i,t,null);let s=$t,c=[];for(let n=0;n<s.length;n+=1)c[n]=xt(gt(t,s,n));const l=t=>Y(c[t],1,1,()=>{c[t]=null});return{c(){r&&r.c(),n=N(),e=_("div");for(let t=0;t<c.length;t+=1)c[t].c();C(e,"class","notifications")},l(t){r&&r.l(t)},m(t,i){r&&r.m(t,i),b(t,n,i),b(t,e,i);for(let t=0;t<c.length;t+=1)c[t].m(e,null);o=!0},p(t,n){if(r&&r.p&&t.$$scope&&r.p(a(i,n,t,null),f(i,n,null)),t.getClass||t.positions||t.$store||t.item||t.withoutStyles){let o;for(s=$t,o=0;o<s.length;o+=1){const i=gt(n,s,o);c[o]?(c[o].p(t,i),X(c[o],1)):(c[o]=xt(i),c[o].c(),X(c[o],1),c[o].m(e,null))}for(V(),o=s.length;o<c.length;o+=1)l(o);W()}},i(t){if(!o){X(r,t);for(let t=0;t<s.length;t+=1)X(c[t]);o=!0}},o(t){Y(r,t),c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)Y(c[t]);o=!1},d(t){r&&r.d(t),t&&(x(n),x(e)),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(c,t)}}}function St(t,n,e){let o;!function(t,n,e){t.$$.on_destroy.push(function(t,n){const e=t.subscribe(n);return e.unsubscribe?()=>e.unsubscribe():e}(n,e))}(t,ht,t=>{e("$store",o=t)});let{item:i=null,withoutStyles:r=!1}=n;!function(t,n){R().$$.context.set(t,n)}(ct,ht);let{$$slots:s={},$$scope:c}=n;return t.$set=t=>{"item"in t&&e("item",i=t.item),"withoutStyles"in t&&e("withoutStyles",r=t.withoutStyles),"$$scope"in t&&e("$$scope",c=t.$$scope)},{item:i,withoutStyles:r,getClass:(t="")=>{return`position-${t}${r?"":` default-position-style-${t}`}`},$store:o,$$slots:s,$$scope:c}}t.default=class extends rt{constructor(t){super(),it(this,t,St,_t,l,["item","withoutStyles"])}},t.getNotificationsContext=lt,Object.defineProperty(t,"__esModule",{value:!0})}));
